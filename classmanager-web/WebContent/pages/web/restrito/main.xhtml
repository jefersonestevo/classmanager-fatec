<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	template="/pages/web/template/template.xhtml">

	<ui:define name="title">
	   	#{message.Nome_Aplicacao}
	</ui:define>

	<ui:define name="content">
		<h:form id="formTelaInicial">
			<p:panelGrid columns="2" styleClass="width-full centro"
				columnClasses="width-50, width-50">

				<p:fieldset id="panelGrupos"
					legend="#{notificacaoSessionBean.notificacaoGrupo.header}"
					styleClass="centro notificacao">
					<p:dataTable styleClass="width-full centro"
						value="#{notificacaoSessionBean.notificacaoGrupo.listaNotificacao}"
						var="notif" emptyMessage="#{message.Nenhum_Item_Exibicao}">
						<p:column styleClass="width-80"
							headerText="#{notificacaoSessionBean.notificacaoGrupo.headerTabela}">
#{notif.titulo}
						</p:column>

						<p:column styleClass="width-20 centro">
							<p:commandLink action="#{grupoBean.visualizaMeuGrupo}">
								<h:graphicImage library="imagens" name="visualizar2.png"
									style="border:0" />
								<f:param id="id" name="id" value="#{notif.id}"></f:param>
							</p:commandLink>
						</p:column>
					</p:dataTable>
				</p:fieldset>

				<p:fieldset id="panelGruposPendentes"
					styleClass="centro notificacao"
					legend="#{notificacaoSessionBean.notificacaoGrupoPendente.header}">
					<p:dataTable styleClass="width-full centro"
						value="#{notificacaoSessionBean.notificacaoGrupoPendente.listaNotificacao}"
						var="notif" emptyMessage="#{message.Nenhum_Item_Exibicao}">
						<p:column styleClass="width-80">
							<f:facet name="header">
						#{notificacaoSessionBean.notificacaoGrupoPendente.headerTabela}
					</f:facet>
#{notif.titulo}
						</p:column>

						<p:column styleClass="width-20">
							<f:facet name="header">
								<p:commandButton value="#{message.Atualizar}"
									update=":formTelaInicial:panelGruposPendentes"
									action="#{notificacaoSessionBean.notificacaoGrupoPendente.atualizar}">
								</p:commandButton>
							</f:facet>

							<p:commandButton value="#{message.Aceitar}"
								onclick="modalConfirmacaoEntradaGrupo.show()">
								<f:setPropertyActionListener value="#{notif.id}"
									target="#{notificacaoSessionBean.notificacaoGrupoPendente.idSelecionado}" />
							</p:commandButton>
							<p:commandButton value="#{message.Negar}"
								id="negarEntradaGrupoPendente"
								onclick="modalConfirmacaoRejeicaoGrupo.show()">
								<f:setPropertyActionListener value="#{notif.id}"
									for="negarEntradaGrupoPendente"
									target="#{notificacaoSessionBean.notificacaoGrupoPendente.idSelecionado}" />
							</p:commandButton>
						</p:column>

					</p:dataTable>
				</p:fieldset>

			</p:panelGrid>

			<p:confirmDialog id="modalConfirmacaoEntradaGrupoID"
				widgetVar="modalConfirmacaoEntradaGrupo" showEffect="fade"
				hideEffect="fade"
				message="#{message.Notificacao_Grupo_Pendentes_Confirmar_Entrada_Grupo}">
				<p:commandButton value="#{message.Sim}"
					update=":formTelaInicial:panelGruposPendentes, :formTelaInicial:panelGrupos"
					oncomplete="modalConfirmacaoEntradaGrupo.hide()"
					action="#{notificacaoSessionBean.notificacaoGrupoPendente.confirmarEntradaGrupo}"
					icon="ui-icon-check" />
				<p:commandButton value="#{message.Nao}" type="button"
					styleClass="ui-confirmdialog-no" icon="ui-icon-close"
					onclick="modalConfirmacaoEntradaGrupo.hide()" />
			</p:confirmDialog>

			<p:confirmDialog id="modalConfirmacaoRejeicaoGrupoID"
				widgetVar="modalConfirmacaoRejeicaoGrupo" showEffect="fade"
				message="#{message.Notificacao_Grupo_Pendentes_Confirmar_Rejeicao_Grupo}">
				<p:commandButton value="#{message.Sim}" type="button"
					update=":formTelaInicial:panelGruposPendentes"
					onclick="modalConfirmacaoEntradaGrupo.hide()"
					action="#{notificacaoSessionBean.notificacaoGrupoPendente.confirmarRejeicaoGrupo}"
					icon="ui-icon-check" />
				<p:commandButton value="#{message.Nao}" type="button"
					styleClass="ui-confirmdialog-no" icon="ui-icon-close"
					onclick="modalConfirmacaoRejeicaoGrupo.hide()" />
			</p:confirmDialog>
		</h:form>
	</ui:define>
</ui:composition>
